<?xml version="1.0" encoding="UTF-8"?><record_update table="wf_workflow_version">
    <wf_workflow_version action="INSERT_OR_UPDATE">
        <active>true</active>
        <activity_stages>{"activities":{},"ends":["ef4c22e7db4c3380c18c59b2ca961902"],"stages":{},"subflows":[]}</activity_stages>
        <after_business_rules>false</after_business_rules>
        <checked_out/>
        <checked_out_by/>
        <column_renderer display_value="Workflow-driven">a56213111b030100adca1e094f0713ac</column_renderer>
        <condition table="x_153465_discovert_discover_routing_runtime">sys_idISNOTEMPTY^EQ<item endquery="false" field="sys_id" goto="false" newquery="false" operator="ISNOTEMPTY" or="false" value=""/>
            <item endquery="true" field="" goto="false" newquery="false" operator="=" or="false" value=""/>
        </condition>
        <condition_type/>
        <description>This workflow pulls the list of routes for a routing template and creates a runtime route list based on the definition.  Once the runtime routes are created, this workflow calls another workflow to process the routes.</description>
        <expected_sequences>6b4c22e7db4c3380c18c59b2ca961906,2f4c22e7db4c3380c18c59b2ca961904,6f4c22e7db4c3380c18c59b2ca961903,eb4c22e7db4c3380c18c59b2ca961905,674c22e7db4c3380c18c59b2ca961907</expected_sequences>
        <expected_time>1970-01-01 14:00:00</expected_time>
        <expected_time_type/>
        <full_sequences>6b4c22e7db4c3380c18c59b2ca961906,2f4c22e7db4c3380c18c59b2ca961904,6f4c22e7db4c3380c18c59b2ca961903,eb4c22e7db4c3380c18c59b2ca961905,674c22e7db4c3380c18c59b2ca961907,ef4c22e7db4c3380c18c59b2ca961902</full_sequences>
        <journal/>
        <max_activity_count>100</max_activity_count>
        <name>Discover Process Template</name>
        <not_cacheable>false</not_cacheable>
        <on_cancel><![CDATA[// This script executes if the workflow is cancelled.// The global variable context_sys_id contains the sys_id of the cancelled workflow context.]]></on_cancel>
        <order>200</order>
        <pin_type>set_by_activity</pin_type>
        <published>true</published>
        <relative_duration/>
        <requires_ert>true</requires_ert>
        <run_multiple>false</run_multiple>
        <schedule/>
        <stage_field/>
        <stage_order>computed</stage_order>
        <start display_value="Begin">6b4c22e7db4c3380c18c59b2ca961906</start>
        <sys_created_by>aalzyoud</sys_created_by>
        <sys_created_on>2019-03-14 00:18:51</sys_created_on>
        <sys_id>ab4c22e7db4c3380c18c59b2ca961901</sys_id>
        <sys_mod_count>6</sys_mod_count>
        <sys_updated_by>system</sys_updated_by>
        <sys_updated_on>2019-03-14 00:21:49</sys_updated_on>
        <table>x_153465_discovert_discover_routing_runtime</table>
        <timezone/>
        <validated>true</validated>
        <workflow display_value="Discover Process Template">9eefaf694f850300303dc3818110c7c5</workflow>
    </wf_workflow_version>
    <wf_workflow action="INSERT_OR_UPDATE">
        <access>public</access>
        <description>This workflow pulls the list of routes for a routing template and creates a runtime route list based on the definition.  Once the runtime routes are created, this workflow calls another workflow to process the routes.</description>
        <name>Discover Process Template</name>
        <preview/>
        <sys_class_name>wf_workflow</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2017-09-07 04:35:43</sys_created_on>
        <sys_customer_update>false</sys_customer_update>
        <sys_domain>global</sys_domain>
        <sys_domain_path>/</sys_domain_path>
        <sys_id>9eefaf694f850300303dc3818110c7c5</sys_id>
        <sys_mod_count>7</sys_mod_count>
        <sys_name>Discover Process Template</sys_name>
        <sys_overrides/>
        <sys_package display_value="Tasker" source="x_153465_discovert">c6b1162d4fc10300303dc3818110c7b1</sys_package>
        <sys_policy/>
        <sys_replace_on_upgrade>false</sys_replace_on_upgrade>
        <sys_scope display_value="Tasker">c6b1162d4fc10300303dc3818110c7b1</sys_scope>
        <sys_update_name>wf_workflow_9eefaf694f850300303dc3818110c7c5</sys_update_name>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2017-10-20 23:51:07</sys_updated_on>
        <table>x_153465_discovert_discover_routing_runtime</table>
        <template>false</template>
        <vars/>
    </wf_workflow>
    <wf_activity action="INSERT_OR_UPDATE">
        <activity_definition display_value="Begin">c7a5e32c0a0a0b3a002377c24ed8ea76</activity_definition>
        <activity_definition_updated>false</activity_definition_updated>
        <databus_lookup_id>1</databus_lookup_id>
        <height/>
        <input/>
        <is_parent>false</is_parent>
        <name>Begin</name>
        <new_activity_definition/>
        <notes/>
        <out_of_date>false</out_of_date>
        <parent/>
        <pinned>false</pinned>
        <pinned_version/>
        <stage/>
        <sys_created_by>aalzyoud</sys_created_by>
        <sys_created_on>2019-03-14 00:18:51</sys_created_on>
        <sys_id>6b4c22e7db4c3380c18c59b2ca961906</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>aalzyoud</sys_updated_by>
        <sys_updated_on>2019-03-14 00:18:51</sys_updated_on>
        <timeout>1970-01-01 00:00:00</timeout>
        <vars/>
        <width>80</width>
        <workflow_version display_value="Discover Process Template">ab4c22e7db4c3380c18c59b2ca961901</workflow_version>
        <x>26</x>
        <y>16</y>
    </wf_activity>
    <sys_variable_value action="delete_multiple" query="document_key=6b4c22e7db4c3380c18c59b2ca961906"/>
    <wf_condition action="INSERT_OR_UPDATE">
        <activity display_value="Begin">6b4c22e7db4c3380c18c59b2ca961906</activity>
        <condition>true</condition>
        <condition_default/>
        <condition_type>standard</condition_type>
        <else_flag>false</else_flag>
        <error>false</error>
        <event>false</event>
        <event_name/>
        <is_positive>true</is_positive>
        <name>Always</name>
        <order>0</order>
        <short_description/>
        <skip_during_generate>false</skip_during_generate>
        <sys_created_by>aalzyoud</sys_created_by>
        <sys_created_on>2019-03-14 00:18:51</sys_created_on>
        <sys_id>af4c22e7db4c3380c18c59b2ca961906</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>aalzyoud</sys_updated_by>
        <sys_updated_on>2019-03-14 00:18:51</sys_updated_on>
    </wf_condition>
    <wf_activity action="INSERT_OR_UPDATE">
        <activity_definition display_value="Run Script">db8c65aec0a8016501d00259bc7203a4</activity_definition>
        <activity_definition_updated>false</activity_definition_updated>
        <databus_lookup_id>12</databus_lookup_id>
        <height/>
        <input>{}</input>
        <is_parent>false</is_parent>
        <name>Create Process Top Tasker</name>
        <new_activity_definition/>
        <notes/>
        <out_of_date>false</out_of_date>
        <parent/>
        <pinned>false</pinned>
        <pinned_version/>
        <stage/>
        <sys_created_by>aalzyoud</sys_created_by>
        <sys_created_on>2019-03-14 00:18:51</sys_created_on>
        <sys_id>2f4c22e7db4c3380c18c59b2ca961904</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>aalzyoud</sys_updated_by>
        <sys_updated_on>2019-03-14 00:18:51</sys_updated_on>
        <timeout>1970-01-01 00:00:00</timeout>
        <vars/>
        <width/>
        <workflow_version display_value="Discover Process Template">ab4c22e7db4c3380c18c59b2ca961901</workflow_version>
        <x>170</x>
        <y>45</y>
    </wf_activity>
    <sys_variable_value action="delete_multiple" query="document_key=2f4c22e7db4c3380c18c59b2ca961904"/>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>2f4c22e7db4c3380c18c59b2ca961904</document_key>
        <order>1</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>aalzyoud</sys_created_by>
        <sys_created_on>2019-03-14 00:18:51</sys_created_on>
        <sys_id>af4c22e7db4c3380c18c59b2ca961904</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>aalzyoud</sys_updated_by>
        <sys_updated_on>2019-03-14 00:18:51</sys_updated_on>
        <value>answer = createProcessTopTasker();&#13;
function createProcessTopTasker() {&#13;
	&#13;
gs.debug("Tasker Process - Process Instance" + current.sys_id + "  Tasker Process Starting - Classification: " + current.classification + "  Tasker Process Starting - Process: " + current.getValue('routing_template_ref'));&#13;
&#13;
	var recProcessDef = new GlideRecord('x_153465_discovert_discover_routing_template');&#13;
	recProcessDef.get(current.getValue('routing_template_ref'));&#13;
	var recTaskInst = new GlideRecord('x_153465_discovert_route_task_instance');&#13;
	recTaskInst.initialize();&#13;
	// RAJ - 2018-02-20 STRY0010829 - Short Desc and Instructions are missing in the Top Task . They need to be copied from the Process Definition.&#13;
	// had to change the line below to current.sys_id from recRunTemp.sys_id.&#13;
	// The tasker instance insert is expecting the proces definition, not the process instance.&#13;
gs.info("Tasker Process - Process Instance" + current.routing_template_ref);&#13;
&#13;
	// RAJ - STRY 0011909 - modify process template&#13;
	// the child route was left in here, but is only used to show what process is being run.  &#13;
	//This is currently only set on the top tasker, not an any children&#13;
	recTaskInst.child_route_template = current.routing_template_ref;&#13;
	recTaskInst.source_definition = recProcessDef.getValue('parent_task_def');&#13;
	// RAJ Originator&#13;
	recTaskInst.originator = current.originator;&#13;
	&#13;
	if(current.instance_notation == '' || current.instance_notation == undefined){&#13;
		var gdt = new GlideDateTime();&#13;
		var currentTime = gdt.getDisplayValue();&#13;
		recTaskInst.instance_notation = currentTime;&#13;
	}else{&#13;
			recTaskInst.instance_notation = current.instance_notation;&#13;
			recTaskInst.u_objective = current.u_objective;&#13;
&#13;
	}&#13;
	&#13;
	&#13;
	recTaskInst.insert();&#13;
gs.info("Tasker Process - Top Task Instance Created sys_id:" + recTaskInst.sys_id + "  Taks Number: " + recTaskInst.number);&#13;
	&#13;
	// Set the Top Task on the Process Instance&#13;
	current.parent_task = recTaskInst.sys_id;&#13;
	current.update();&#13;
	gs.info("Tasker Process - Updated Template Instance Parent Task ID");&#13;
	gs.addInfoMessage(('tst'))&#13;
	&#13;
}</value>
        <variable display_value="">c35ddef20a0a0ba96248a7090eccd518</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>2f4c22e7db4c3380c18c59b2ca961904</document_key>
        <order>1</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>aalzyoud</sys_created_by>
        <sys_created_on>2019-03-14 00:18:51</sys_created_on>
        <sys_id>af4c22e7db4c3380c18c59b2ca961904</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>aalzyoud</sys_updated_by>
        <sys_updated_on>2019-03-14 00:18:51</sys_updated_on>
        <value>answer = createProcessTopTasker();&#13;
function createProcessTopTasker() {&#13;
	&#13;
gs.debug("Tasker Process - Process Instance" + current.sys_id + "  Tasker Process Starting - Classification: " + current.classification + "  Tasker Process Starting - Process: " + current.getValue('routing_template_ref'));&#13;
&#13;
	var recProcessDef = new GlideRecord('x_153465_discovert_discover_routing_template');&#13;
	recProcessDef.get(current.getValue('routing_template_ref'));&#13;
	var recTaskInst = new GlideRecord('x_153465_discovert_route_task_instance');&#13;
	recTaskInst.initialize();&#13;
	// RAJ - 2018-02-20 STRY0010829 - Short Desc and Instructions are missing in the Top Task . They need to be copied from the Process Definition.&#13;
	// had to change the line below to current.sys_id from recRunTemp.sys_id.&#13;
	// The tasker instance insert is expecting the proces definition, not the process instance.&#13;
gs.info("Tasker Process - Process Instance" + current.routing_template_ref);&#13;
&#13;
	// RAJ - STRY 0011909 - modify process template&#13;
	// the child route was left in here, but is only used to show what process is being run.  &#13;
	//This is currently only set on the top tasker, not an any children&#13;
	recTaskInst.child_route_template = current.routing_template_ref;&#13;
	recTaskInst.source_definition = recProcessDef.getValue('parent_task_def');&#13;
	// RAJ Originator&#13;
	recTaskInst.originator = current.originator;&#13;
	&#13;
	if(current.instance_notation == '' || current.instance_notation == undefined){&#13;
		var gdt = new GlideDateTime();&#13;
		var currentTime = gdt.getDisplayValue();&#13;
		recTaskInst.instance_notation = currentTime;&#13;
	}else{&#13;
			recTaskInst.instance_notation = current.instance_notation;&#13;
			recTaskInst.u_objective = current.u_objective;&#13;
&#13;
	}&#13;
	&#13;
	&#13;
	recTaskInst.insert();&#13;
gs.info("Tasker Process - Top Task Instance Created sys_id:" + recTaskInst.sys_id + "  Taks Number: " + recTaskInst.number);&#13;
	&#13;
	// Set the Top Task on the Process Instance&#13;
	current.parent_task = recTaskInst.sys_id;&#13;
	current.update();&#13;
	gs.info("Tasker Process - Updated Template Instance Parent Task ID");&#13;
	gs.addInfoMessage(('tst'))&#13;
	&#13;
}</value>
        <variable display_value="">c35ddef20a0a0ba96248a7090eccd518</variable>
    </sys_variable_value>
    <wf_condition action="INSERT_OR_UPDATE">
        <activity display_value="Create Process Top Tasker">2f4c22e7db4c3380c18c59b2ca961904</activity>
        <condition>true</condition>
        <condition_default/>
        <condition_type>standard</condition_type>
        <else_flag>false</else_flag>
        <error>false</error>
        <event>false</event>
        <event_name/>
        <is_positive>true</is_positive>
        <name>Always</name>
        <order>0</order>
        <short_description/>
        <skip_during_generate>false</skip_during_generate>
        <sys_created_by>aalzyoud</sys_created_by>
        <sys_created_on>2019-03-14 00:18:51</sys_created_on>
        <sys_id>274c22e7db4c3380c18c59b2ca961905</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>aalzyoud</sys_updated_by>
        <sys_updated_on>2019-03-14 00:18:51</sys_updated_on>
    </wf_condition>
    <wf_activity action="INSERT_OR_UPDATE">
        <activity_definition display_value="End">c7a66f7d0a0a0b3a004544a6d2f14076</activity_definition>
        <activity_definition_updated>false</activity_definition_updated>
        <databus_lookup_id>2</databus_lookup_id>
        <height/>
        <input/>
        <is_parent>false</is_parent>
        <name>End</name>
        <new_activity_definition/>
        <notes/>
        <out_of_date>false</out_of_date>
        <parent/>
        <pinned>false</pinned>
        <pinned_version/>
        <stage/>
        <sys_created_by>aalzyoud</sys_created_by>
        <sys_created_on>2019-03-14 00:18:51</sys_created_on>
        <sys_id>ef4c22e7db4c3380c18c59b2ca961902</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>aalzyoud</sys_updated_by>
        <sys_updated_on>2019-03-14 00:18:51</sys_updated_on>
        <timeout>1970-01-01 00:00:00</timeout>
        <vars/>
        <width>80</width>
        <workflow_version display_value="Discover Process Template">ab4c22e7db4c3380c18c59b2ca961901</workflow_version>
        <x>981</x>
        <y>711</y>
    </wf_activity>
    <sys_variable_value action="delete_multiple" query="document_key=ef4c22e7db4c3380c18c59b2ca961902"/>
    <wf_activity action="INSERT_OR_UPDATE">
        <activity_definition display_value="Run Script">db8c65aec0a8016501d00259bc7203a4</activity_definition>
        <activity_definition_updated>false</activity_definition_updated>
        <databus_lookup_id>6</databus_lookup_id>
        <height/>
        <input>{}</input>
        <is_parent>false</is_parent>
        <name>Get Count of Top Tasker Definitions</name>
        <new_activity_definition/>
        <notes/>
        <out_of_date>false</out_of_date>
        <parent/>
        <pinned>false</pinned>
        <pinned_version/>
        <stage/>
        <sys_created_by>aalzyoud</sys_created_by>
        <sys_created_on>2019-03-14 00:18:51</sys_created_on>
        <sys_id>6f4c22e7db4c3380c18c59b2ca961903</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>aalzyoud</sys_updated_by>
        <sys_updated_on>2019-03-14 00:18:51</sys_updated_on>
        <timeout>1970-01-01 00:00:00</timeout>
        <vars/>
        <width/>
        <workflow_version display_value="Discover Process Template">ab4c22e7db4c3380c18c59b2ca961901</workflow_version>
        <x>301</x>
        <y>159</y>
    </wf_activity>
    <sys_variable_value action="delete_multiple" query="document_key=6f4c22e7db4c3380c18c59b2ca961903"/>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>6f4c22e7db4c3380c18c59b2ca961903</document_key>
        <order>1</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>aalzyoud</sys_created_by>
        <sys_created_on>2019-03-14 00:18:51</sys_created_on>
        <sys_id>ef4c22e7db4c3380c18c59b2ca961903</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>aalzyoud</sys_updated_by>
        <sys_updated_on>2019-03-14 00:18:51</sys_updated_on>
        <value>answer = getNumberOfTopTaskerDefinitions();&#13;
function getNumberOfTopTaskerDefinitions() {&#13;
	gs.info("-------------------------------getNumberOfTopTaskerDefinitions----------------------");&#13;
	gs.info("DT - Start Template Instance ID: " + current.sys_id + " Name: " + current.discover_template_name +" &amp; Template - sys_id: " + current.getValue('routing_template_ref'));&#13;
	&#13;
	var recProcessDef = new GlideRecord('x_153465_discovert_discover_routing_template');&#13;
	recProcessDef.get(current.getValue('routing_template_ref'));&#13;
	&#13;
	var taskDefinitionQuery = new GlideAggregate('x_153465_discovert_route_tasks');&#13;
	// chagned when top level task def added&#13;
	//taskDefinitionQuery.addQuery('tasker_process_definition',current.routing_template_ref).addCondition('parent','NULL');&#13;
	taskDefinitionQuery.addQuery('parent',recProcessDef.getValue('parent_task_def'));&#13;
	taskDefinitionQuery.addAggregate('COUNT');&#13;
	taskDefinitionQuery.query();&#13;
	&#13;
	workflow.scratchpad.u_total_template_routes = 0;&#13;
	if(taskDefinitionQuery.next()){&#13;
		workflow.scratchpad.u_total_template_routes = taskDefinitionQuery.getAggregate('COUNT');&#13;
	}&#13;
	&#13;
	workflow.scratchpad.u_routes_loaded_count = 0;&#13;
	workflow.scratchpad.u_routes_order_count = 0;&#13;
	workflow.scratchpad.u_current_duration_offset = 0;&#13;
	&#13;
	gs.debug("Discover Template - Discover Task Definition Count:" + workflow.scratchpad.u_total_template_routes);&#13;
}</value>
        <variable display_value="">c35ddef20a0a0ba96248a7090eccd518</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>6f4c22e7db4c3380c18c59b2ca961903</document_key>
        <order>1</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>aalzyoud</sys_created_by>
        <sys_created_on>2019-03-14 00:18:51</sys_created_on>
        <sys_id>ef4c22e7db4c3380c18c59b2ca961903</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>aalzyoud</sys_updated_by>
        <sys_updated_on>2019-03-14 00:18:51</sys_updated_on>
        <value>answer = getNumberOfTopTaskerDefinitions();&#13;
function getNumberOfTopTaskerDefinitions() {&#13;
	gs.info("-------------------------------getNumberOfTopTaskerDefinitions----------------------");&#13;
	gs.info("DT - Start Template Instance ID: " + current.sys_id + " Name: " + current.discover_template_name +" &amp; Template - sys_id: " + current.getValue('routing_template_ref'));&#13;
	&#13;
	var recProcessDef = new GlideRecord('x_153465_discovert_discover_routing_template');&#13;
	recProcessDef.get(current.getValue('routing_template_ref'));&#13;
	&#13;
	var taskDefinitionQuery = new GlideAggregate('x_153465_discovert_route_tasks');&#13;
	// chagned when top level task def added&#13;
	//taskDefinitionQuery.addQuery('tasker_process_definition',current.routing_template_ref).addCondition('parent','NULL');&#13;
	taskDefinitionQuery.addQuery('parent',recProcessDef.getValue('parent_task_def'));&#13;
	taskDefinitionQuery.addAggregate('COUNT');&#13;
	taskDefinitionQuery.query();&#13;
	&#13;
	workflow.scratchpad.u_total_template_routes = 0;&#13;
	if(taskDefinitionQuery.next()){&#13;
		workflow.scratchpad.u_total_template_routes = taskDefinitionQuery.getAggregate('COUNT');&#13;
	}&#13;
	&#13;
	workflow.scratchpad.u_routes_loaded_count = 0;&#13;
	workflow.scratchpad.u_routes_order_count = 0;&#13;
	workflow.scratchpad.u_current_duration_offset = 0;&#13;
	&#13;
	gs.debug("Discover Template - Discover Task Definition Count:" + workflow.scratchpad.u_total_template_routes);&#13;
}</value>
        <variable display_value="">c35ddef20a0a0ba96248a7090eccd518</variable>
    </sys_variable_value>
    <wf_condition action="INSERT_OR_UPDATE">
        <activity display_value="Get Count of Top Tasker Definitions">6f4c22e7db4c3380c18c59b2ca961903</activity>
        <condition>true</condition>
        <condition_default/>
        <condition_type>standard</condition_type>
        <else_flag>false</else_flag>
        <error>false</error>
        <event>false</event>
        <event_name/>
        <is_positive>true</is_positive>
        <name>Always</name>
        <order>0</order>
        <short_description/>
        <skip_during_generate>false</skip_during_generate>
        <sys_created_by>aalzyoud</sys_created_by>
        <sys_created_on>2019-03-14 00:18:51</sys_created_on>
        <sys_id>674c22e7db4c3380c18c59b2ca961904</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>aalzyoud</sys_updated_by>
        <sys_updated_on>2019-03-14 00:18:51</sys_updated_on>
    </wf_condition>
    <wf_activity action="INSERT_OR_UPDATE">
        <activity_definition display_value="If">98f621ca0a0a0b5900f7c291f5e45a0e</activity_definition>
        <activity_definition_updated>false</activity_definition_updated>
        <databus_lookup_id>4</databus_lookup_id>
        <height/>
        <input>{}</input>
        <is_parent>false</is_parent>
        <name>MoreRoutesToProcess</name>
        <new_activity_definition/>
        <notes/>
        <out_of_date>false</out_of_date>
        <parent/>
        <pinned>false</pinned>
        <pinned_version/>
        <stage/>
        <sys_created_by>aalzyoud</sys_created_by>
        <sys_created_on>2019-03-14 00:18:51</sys_created_on>
        <sys_id>674c22e7db4c3380c18c59b2ca961907</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>aalzyoud</sys_updated_by>
        <sys_updated_on>2019-03-14 00:18:51</sys_updated_on>
        <timeout>1970-01-01 00:00:00</timeout>
        <vars/>
        <width/>
        <workflow_version display_value="Discover Process Template">ab4c22e7db4c3380c18c59b2ca961901</workflow_version>
        <x>717</x>
        <y>577</y>
    </wf_activity>
    <sys_variable_value action="delete_multiple" query="document_key=674c22e7db4c3380c18c59b2ca961907"/>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>674c22e7db4c3380c18c59b2ca961907</document_key>
        <order>300</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>aalzyoud</sys_created_by>
        <sys_created_on>2019-03-14 00:18:51</sys_created_on>
        <sys_id>6f4c22e7db4c3380c18c59b2ca961907</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>aalzyoud</sys_updated_by>
        <sys_updated_on>2019-03-14 00:18:51</sys_updated_on>
        <value>answer = moreRoutesToProcess();&#13;
&#13;
// If count of routes for this template equals the route counter, &#13;
// then return no since there are no more routes to process.&#13;
function moreRoutesToProcess() {&#13;
      if (workflow.scratchpad.u_routes_loaded_count &gt;= workflow.scratchpad.u_total_template_routes) {&#13;
      return 'no';&#13;
      }&#13;
	  return 'yes';	&#13;
}&#13;
</value>
        <variable display_value="">c35e50810a0a0ba96248a709b450fc32</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>674c22e7db4c3380c18c59b2ca961907</document_key>
        <order>200</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>aalzyoud</sys_created_by>
        <sys_created_on>2019-03-14 00:18:51</sys_created_on>
        <sys_id>ab4c22e7db4c3380c18c59b2ca961907</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>aalzyoud</sys_updated_by>
        <sys_updated_on>2019-03-14 00:18:51</sys_updated_on>
        <value>1</value>
        <variable display_value="">493d2c1d0a6a803f3217a75738ea3289</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>674c22e7db4c3380c18c59b2ca961907</document_key>
        <order>100</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>aalzyoud</sys_created_by>
        <sys_created_on>2019-03-14 00:18:51</sys_created_on>
        <sys_id>e74c22e7db4c3380c18c59b2ca961907</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>aalzyoud</sys_updated_by>
        <sys_updated_on>2019-03-14 00:18:51</sys_updated_on>
        <value/>
        <variable display_value="">493cba6a0a6a803f07df24b118473551</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>674c22e7db4c3380c18c59b2ca961907</document_key>
        <order>100</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>aalzyoud</sys_created_by>
        <sys_created_on>2019-03-14 00:18:51</sys_created_on>
        <sys_id>e74c22e7db4c3380c18c59b2ca961907</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>aalzyoud</sys_updated_by>
        <sys_updated_on>2019-03-14 00:18:51</sys_updated_on>
        <value/>
        <variable display_value="">493cba6a0a6a803f07df24b118473551</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>674c22e7db4c3380c18c59b2ca961907</document_key>
        <order>200</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>aalzyoud</sys_created_by>
        <sys_created_on>2019-03-14 00:18:51</sys_created_on>
        <sys_id>ab4c22e7db4c3380c18c59b2ca961907</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>aalzyoud</sys_updated_by>
        <sys_updated_on>2019-03-14 00:18:51</sys_updated_on>
        <value>1</value>
        <variable display_value="">493d2c1d0a6a803f3217a75738ea3289</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>674c22e7db4c3380c18c59b2ca961907</document_key>
        <order>300</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>aalzyoud</sys_created_by>
        <sys_created_on>2019-03-14 00:18:51</sys_created_on>
        <sys_id>6f4c22e7db4c3380c18c59b2ca961907</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>aalzyoud</sys_updated_by>
        <sys_updated_on>2019-03-14 00:18:51</sys_updated_on>
        <value>answer = moreRoutesToProcess();&#13;
&#13;
// If count of routes for this template equals the route counter, &#13;
// then return no since there are no more routes to process.&#13;
function moreRoutesToProcess() {&#13;
      if (workflow.scratchpad.u_routes_loaded_count &gt;= workflow.scratchpad.u_total_template_routes) {&#13;
      return 'no';&#13;
      }&#13;
	  return 'yes';	&#13;
}&#13;
</value>
        <variable display_value="">c35e50810a0a0ba96248a709b450fc32</variable>
    </sys_variable_value>
    <wf_condition action="INSERT_OR_UPDATE">
        <activity display_value="MoreRoutesToProcess">674c22e7db4c3380c18c59b2ca961907</activity>
        <condition>activity.result == 'no'</condition>
        <condition_default display_value="No">c1eff6430a0a0b59000f955abe842c94</condition_default>
        <condition_type>standard</condition_type>
        <else_flag>false</else_flag>
        <error>false</error>
        <event>false</event>
        <event_name/>
        <is_positive>false</is_positive>
        <name>No</name>
        <order>200</order>
        <short_description/>
        <skip_during_generate>true</skip_during_generate>
        <sys_created_by>aalzyoud</sys_created_by>
        <sys_created_on>2019-03-14 00:18:51</sys_created_on>
        <sys_id>674c22e7db4c3380c18c59b2ca961908</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>aalzyoud</sys_updated_by>
        <sys_updated_on>2019-03-14 00:18:51</sys_updated_on>
    </wf_condition>
    <wf_condition action="INSERT_OR_UPDATE">
        <activity display_value="MoreRoutesToProcess">674c22e7db4c3380c18c59b2ca961907</activity>
        <condition>activity.result == 'yes'</condition>
        <condition_default display_value="Yes">c1ef63200a0a0b59005ef89bae78feb7</condition_default>
        <condition_type>standard</condition_type>
        <else_flag>false</else_flag>
        <error>false</error>
        <event>false</event>
        <event_name/>
        <is_positive>true</is_positive>
        <name>Yes</name>
        <order>100</order>
        <short_description/>
        <skip_during_generate>false</skip_during_generate>
        <sys_created_by>aalzyoud</sys_created_by>
        <sys_created_on>2019-03-14 00:18:51</sys_created_on>
        <sys_id>e34c22e7db4c3380c18c59b2ca961908</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>aalzyoud</sys_updated_by>
        <sys_updated_on>2019-03-14 00:18:51</sys_updated_on>
    </wf_condition>
    <wf_activity action="INSERT_OR_UPDATE">
        <activity_definition display_value="Run Script">db8c65aec0a8016501d00259bc7203a4</activity_definition>
        <activity_definition_updated>false</activity_definition_updated>
        <databus_lookup_id>7</databus_lookup_id>
        <height/>
        <input>{}</input>
        <is_parent>false</is_parent>
        <name>StartTaskDefSubs</name>
        <new_activity_definition/>
        <notes/>
        <out_of_date>false</out_of_date>
        <parent/>
        <pinned>false</pinned>
        <pinned_version/>
        <stage/>
        <sys_created_by>aalzyoud</sys_created_by>
        <sys_created_on>2019-03-14 00:18:51</sys_created_on>
        <sys_id>eb4c22e7db4c3380c18c59b2ca961905</sys_id>
        <sys_mod_count>1</sys_mod_count>
        <sys_updated_by>aalzyoud</sys_updated_by>
        <sys_updated_on>2019-03-14 00:19:25</sys_updated_on>
        <timeout>1970-01-01 00:00:00</timeout>
        <vars/>
        <width/>
        <workflow_version display_value="Discover Process Template">ab4c22e7db4c3380c18c59b2ca961901</workflow_version>
        <x>456</x>
        <y>378</y>
    </wf_activity>
    <sys_variable_value action="delete_multiple" query="document_key=eb4c22e7db4c3380c18c59b2ca961905"/>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>eb4c22e7db4c3380c18c59b2ca961905</document_key>
        <order>1</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>aalzyoud</sys_created_by>
        <sys_created_on>2019-03-14 00:18:51</sys_created_on>
        <sys_id>6f4c22e7db4c3380c18c59b2ca961905</sys_id>
        <sys_mod_count>1</sys_mod_count>
        <sys_updated_by>aalzyoud</sys_updated_by>
        <sys_updated_on>2019-03-14 00:19:25</sys_updated_on>
        <value>answer = StartTaskDefSubs();&#13;
function StartTaskDefSubs() {&#13;
	&#13;
	workflow.scratchpad.u_routes_order_count +=1;&#13;
	&#13;
	var recProcessDef = new GlideRecord('x_153465_discovert_discover_routing_template');&#13;
	recProcessDef.get(current.getValue('routing_template_ref'));&#13;
	&#13;
	// we use aggregate query to get the count of task instances in this "route order"&#13;
	var countTasksDefsInOrder = 0;&#13;
	var gaTaskDefinitionQuery = new GlideAggregate('x_153465_discovert_route_tasks');&#13;
	// remove parent null b/c we now have top level tasker&#13;
	//gaTaskDefinitionQuery.addQuery('tasker_process_definition',current.getValue('routing_template_ref')).addCondition('parent','NULL').addCondition('route_order',workflow.scratchpad.u_routes_order_count);&#13;
	gaTaskDefinitionQuery.addQuery('parent',recProcessDef.getValue('parent_task_def')).addCondition('route_order',workflow.scratchpad.u_routes_order_count);&#13;
	gaTaskDefinitionQuery.addAggregate('COUNT');&#13;
	gaTaskDefinitionQuery.query();&#13;
	&#13;
	if(gaTaskDefinitionQuery.next()){&#13;
		countTasksDefsInOrder = gaTaskDefinitionQuery.getAggregate('COUNT');&#13;
	}&#13;
	gs.info("Discover Template - Discover_TaskDef # Routes in Order: " + workflow.scratchpad.u_routes_order_count + " Count:" + countTasksDefsInOrder);&#13;
	&#13;
	&#13;
	// we query to get the list of all Task Defs in this "route order"&#13;
	// the loop below will process each Task Defs in this route order&#13;
	// it will increment the total Task Defs processed for each order&#13;
	var taskDefinitionQuery = new GlideRecord('x_153465_discovert_route_tasks');&#13;
	// remove parent null b/c we now have top level tasker&#13;
	//taskDefinitionQuery.addQuery('tasker_process_definition',current.getValue('routing_template_ref')).addCondition('parent','NULL').addCondition('route_order',workflow.scratchpad.u_routes_order_count);&#13;
	taskDefinitionQuery.addQuery('parent',recProcessDef.getValue('parent_task_def')).addCondition('route_order',workflow.scratchpad.u_routes_order_count);&#13;
	taskDefinitionQuery.query();&#13;
	&#13;
	var maxTaskOrderOffset = 0;&#13;
	var wf = new global.Workflow();&#13;
	while (taskDefinitionQuery.next()){&#13;
		gs.info("Discover Template - Discover_Task Starting Task Definition Workflow for Task Short Description:" + taskDefinitionQuery.getValue('short_description'));&#13;
		&#13;
		var recTaskInst = new GlideRecord('x_153465_discovert_route_task_instance');&#13;
		recTaskInst.initialize();&#13;
		// RAJ - STRY0010812 - 2018-02-20 Top level Tasks were not connnected to the Process template.  Parent_Task needed toString&#13;
		recTaskInst.parent = current.getValue('parent_task');&#13;
		recTaskInst.tasker_process_instance = current.sys_id;&#13;
		var gdt = new GlideDateTime();&#13;
		var durationAdd;&#13;
		&#13;
		// Set estimated Start and Estimated Duration&#13;
		if (workflow.scratchpad.u_current_duration_offset &gt; 0 )&#13;
			{&#13;
			durationAdd=workflow.scratchpad.u_current_duration_offset;&#13;
			gdt.add(durationAdd);&#13;
		}&#13;
		// RAJ 2018-02-22 STRY0010778 - on Change from Route Instance, this was set wrong.  This should have been the estimated starte date.&#13;
		recTaskInst.expected_start = gdt.getValue();&#13;
		gs.info("Discover Template - Testing Start Date - Route Order: " + workflow.scratchpad.u_routes_order_count + "  Duration Offset:" + workflow.scratchpad.u_current_duration_offset + "  Expected_Start:" + recTaskInst.expected_start.toString());&#13;
		&#13;
		// Set estimated completion date, Due Date and Suspense Date&#13;
		if(!taskDefinitionQuery.duration.nil()){&#13;
			durationAdd=taskDefinitionQuery.duration.dateNumericValue();&#13;
			// if this is the max duration for the route in the current Route Order, reset within the loop&#13;
			if(durationAdd&gt;maxTaskOrderOffset){&#13;
				maxTaskOrderOffset = durationAdd;&#13;
			}&#13;
			&#13;
			gdt.add(durationAdd);&#13;
		}&#13;
		recTaskInst.suspense_date = gdt.getValue();&#13;
		recTaskInst.due_date = gdt.getValue();&#13;
		recTaskInst.source_definition = taskDefinitionQuery.sys_id;&#13;
		// NOTE: TODO: set number to parent number here...&#13;
		recTaskInst.insert();&#13;
		gs.info("Discover Template - Discover_Tasker sys_id:" + recTaskInst.sys_id);&#13;
		// remove entire level from workflow&#13;
		//var  wfId = wf.getWorkflowFromName("Discover Process Tasker Top");&#13;
		var  wfId = wf.getWorkflowFromName("Discover Process Task");&#13;
		wf.startFlow(wfId, recTaskInst, 'Update');&#13;
		// increment the total routes processed for each route in this order&#13;
		workflow.scratchpad.u_routes_loaded_count +=1;&#13;
		gs.debug("Discover Template - Discover_Task current loaded count:" + workflow.scratchpad.u_routes_loaded_count);&#13;
	}&#13;
	workflow.scratchpad.u_current_duration_offset = workflow.scratchpad.u_current_duration_offset + maxTaskOrderOffset;&#13;
	gs.info("Discover Template - current duration offset:" + workflow.scratchpad.u_current_duration_offset);&#13;
	&#13;
}&#13;
</value>
        <variable display_value="">c35ddef20a0a0ba96248a7090eccd518</variable>
    </sys_variable_value>
    <sys_variable_value action="INSERT_OR_UPDATE">
        <document>wf_activity</document>
        <document_key>eb4c22e7db4c3380c18c59b2ca961905</document_key>
        <order>1</order>
        <sys_class_name>sys_variable_value</sys_class_name>
        <sys_created_by>aalzyoud</sys_created_by>
        <sys_created_on>2019-03-14 00:18:51</sys_created_on>
        <sys_id>6f4c22e7db4c3380c18c59b2ca961905</sys_id>
        <sys_mod_count>1</sys_mod_count>
        <sys_updated_by>aalzyoud</sys_updated_by>
        <sys_updated_on>2019-03-14 00:19:25</sys_updated_on>
        <value>answer = StartTaskDefSubs();&#13;
function StartTaskDefSubs() {&#13;
	&#13;
	workflow.scratchpad.u_routes_order_count +=1;&#13;
	&#13;
	var recProcessDef = new GlideRecord('x_153465_discovert_discover_routing_template');&#13;
	recProcessDef.get(current.getValue('routing_template_ref'));&#13;
	&#13;
	// we use aggregate query to get the count of task instances in this "route order"&#13;
	var countTasksDefsInOrder = 0;&#13;
	var gaTaskDefinitionQuery = new GlideAggregate('x_153465_discovert_route_tasks');&#13;
	// remove parent null b/c we now have top level tasker&#13;
	//gaTaskDefinitionQuery.addQuery('tasker_process_definition',current.getValue('routing_template_ref')).addCondition('parent','NULL').addCondition('route_order',workflow.scratchpad.u_routes_order_count);&#13;
	gaTaskDefinitionQuery.addQuery('parent',recProcessDef.getValue('parent_task_def')).addCondition('route_order',workflow.scratchpad.u_routes_order_count);&#13;
	gaTaskDefinitionQuery.addAggregate('COUNT');&#13;
	gaTaskDefinitionQuery.query();&#13;
	&#13;
	if(gaTaskDefinitionQuery.next()){&#13;
		countTasksDefsInOrder = gaTaskDefinitionQuery.getAggregate('COUNT');&#13;
	}&#13;
	gs.info("Discover Template - Discover_TaskDef # Routes in Order: " + workflow.scratchpad.u_routes_order_count + " Count:" + countTasksDefsInOrder);&#13;
	&#13;
	&#13;
	// we query to get the list of all Task Defs in this "route order"&#13;
	// the loop below will process each Task Defs in this route order&#13;
	// it will increment the total Task Defs processed for each order&#13;
	var taskDefinitionQuery = new GlideRecord('x_153465_discovert_route_tasks');&#13;
	// remove parent null b/c we now have top level tasker&#13;
	//taskDefinitionQuery.addQuery('tasker_process_definition',current.getValue('routing_template_ref')).addCondition('parent','NULL').addCondition('route_order',workflow.scratchpad.u_routes_order_count);&#13;
	taskDefinitionQuery.addQuery('parent',recProcessDef.getValue('parent_task_def')).addCondition('route_order',workflow.scratchpad.u_routes_order_count);&#13;
	taskDefinitionQuery.query();&#13;
	&#13;
	var maxTaskOrderOffset = 0;&#13;
	var wf = new global.Workflow();&#13;
	while (taskDefinitionQuery.next()){&#13;
		gs.info("Discover Template - Discover_Task Starting Task Definition Workflow for Task Short Description:" + taskDefinitionQuery.getValue('short_description'));&#13;
		&#13;
		var recTaskInst = new GlideRecord('x_153465_discovert_route_task_instance');&#13;
		recTaskInst.initialize();&#13;
		// RAJ - STRY0010812 - 2018-02-20 Top level Tasks were not connnected to the Process template.  Parent_Task needed toString&#13;
		recTaskInst.parent = current.getValue('parent_task');&#13;
		recTaskInst.tasker_process_instance = current.sys_id;&#13;
		var gdt = new GlideDateTime();&#13;
		var durationAdd;&#13;
		&#13;
		// Set estimated Start and Estimated Duration&#13;
		if (workflow.scratchpad.u_current_duration_offset &gt; 0 )&#13;
			{&#13;
			durationAdd=workflow.scratchpad.u_current_duration_offset;&#13;
			gdt.add(durationAdd);&#13;
		}&#13;
		// RAJ 2018-02-22 STRY0010778 - on Change from Route Instance, this was set wrong.  This should have been the estimated starte date.&#13;
		recTaskInst.expected_start = gdt.getValue();&#13;
		gs.info("Discover Template - Testing Start Date - Route Order: " + workflow.scratchpad.u_routes_order_count + "  Duration Offset:" + workflow.scratchpad.u_current_duration_offset + "  Expected_Start:" + recTaskInst.expected_start.toString());&#13;
		&#13;
		// Set estimated completion date, Due Date and Suspense Date&#13;
		if(!taskDefinitionQuery.duration.nil()){&#13;
			durationAdd=taskDefinitionQuery.duration.dateNumericValue();&#13;
			// if this is the max duration for the route in the current Route Order, reset within the loop&#13;
			if(durationAdd&gt;maxTaskOrderOffset){&#13;
				maxTaskOrderOffset = durationAdd;&#13;
			}&#13;
			&#13;
			gdt.add(durationAdd);&#13;
		}&#13;
		recTaskInst.suspense_date = gdt.getValue();&#13;
		recTaskInst.due_date = gdt.getValue();&#13;
		recTaskInst.source_definition = taskDefinitionQuery.sys_id;&#13;
		// NOTE: TODO: set number to parent number here...&#13;
		recTaskInst.insert();&#13;
		gs.info("Discover Template - Discover_Tasker sys_id:" + recTaskInst.sys_id);&#13;
		// remove entire level from workflow&#13;
		//var  wfId = wf.getWorkflowFromName("Discover Process Tasker Top");&#13;
		var  wfId = wf.getWorkflowFromName("Discover Process Task");&#13;
		wf.startFlow(wfId, recTaskInst, 'Update');&#13;
		// increment the total routes processed for each route in this order&#13;
		workflow.scratchpad.u_routes_loaded_count +=1;&#13;
		gs.debug("Discover Template - Discover_Task current loaded count:" + workflow.scratchpad.u_routes_loaded_count);&#13;
	}&#13;
	workflow.scratchpad.u_current_duration_offset = workflow.scratchpad.u_current_duration_offset + maxTaskOrderOffset;&#13;
	gs.info("Discover Template - current duration offset:" + workflow.scratchpad.u_current_duration_offset);&#13;
	&#13;
}&#13;
</value>
        <variable display_value="">c35ddef20a0a0ba96248a7090eccd518</variable>
    </sys_variable_value>
    <wf_condition action="INSERT_OR_UPDATE">
        <activity display_value="StartTaskDefSubs">eb4c22e7db4c3380c18c59b2ca961905</activity>
        <condition>true</condition>
        <condition_default/>
        <condition_type>standard</condition_type>
        <else_flag>false</else_flag>
        <error>false</error>
        <event>false</event>
        <event_name/>
        <is_positive>true</is_positive>
        <name>Always</name>
        <order>0</order>
        <short_description/>
        <skip_during_generate>false</skip_during_generate>
        <sys_created_by>aalzyoud</sys_created_by>
        <sys_created_on>2019-03-14 00:18:51</sys_created_on>
        <sys_id>e34c22e7db4c3380c18c59b2ca961906</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>aalzyoud</sys_updated_by>
        <sys_updated_on>2019-03-14 00:18:51</sys_updated_on>
    </wf_condition>
    <wf_transition action="INSERT_OR_UPDATE">
        <condition display_value="Yes">e34c22e7db4c3380c18c59b2ca961908</condition>
        <from display_value="MoreRoutesToProcess">674c22e7db4c3380c18c59b2ca961907</from>
        <sys_created_by>aalzyoud</sys_created_by>
        <sys_created_on>2019-03-14 00:18:51</sys_created_on>
        <sys_id>274c22e7db4c3380c18c59b2ca96190a</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>aalzyoud</sys_updated_by>
        <sys_updated_on>2019-03-14 00:18:51</sys_updated_on>
        <to display_value="StartTaskDefSubs">eb4c22e7db4c3380c18c59b2ca961905</to>
    </wf_transition>
    <wf_transition action="INSERT_OR_UPDATE">
        <condition display_value="Always">e34c22e7db4c3380c18c59b2ca961906</condition>
        <from display_value="StartTaskDefSubs">eb4c22e7db4c3380c18c59b2ca961905</from>
        <sys_created_by>aalzyoud</sys_created_by>
        <sys_created_on>2019-03-14 00:18:51</sys_created_on>
        <sys_id>634c22e7db4c3380c18c59b2ca96190a</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>aalzyoud</sys_updated_by>
        <sys_updated_on>2019-03-14 00:18:51</sys_updated_on>
        <to display_value="MoreRoutesToProcess">674c22e7db4c3380c18c59b2ca961907</to>
    </wf_transition>
    <wf_transition action="INSERT_OR_UPDATE">
        <condition display_value="No">674c22e7db4c3380c18c59b2ca961908</condition>
        <from display_value="MoreRoutesToProcess">674c22e7db4c3380c18c59b2ca961907</from>
        <sys_created_by>aalzyoud</sys_created_by>
        <sys_created_on>2019-03-14 00:18:51</sys_created_on>
        <sys_id>a74c22e7db4c3380c18c59b2ca96190a</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>aalzyoud</sys_updated_by>
        <sys_updated_on>2019-03-14 00:18:51</sys_updated_on>
        <to display_value="End">ef4c22e7db4c3380c18c59b2ca961902</to>
    </wf_transition>
    <wf_transition action="INSERT_OR_UPDATE">
        <condition display_value="Always">674c22e7db4c3380c18c59b2ca961904</condition>
        <from display_value="Get Count of Top Tasker Definitions">6f4c22e7db4c3380c18c59b2ca961903</from>
        <sys_created_by>aalzyoud</sys_created_by>
        <sys_created_on>2019-03-14 00:18:51</sys_created_on>
        <sys_id>ab4c22e7db4c3380c18c59b2ca961909</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>aalzyoud</sys_updated_by>
        <sys_updated_on>2019-03-14 00:18:51</sys_updated_on>
        <to display_value="StartTaskDefSubs">eb4c22e7db4c3380c18c59b2ca961905</to>
    </wf_transition>
    <wf_transition action="INSERT_OR_UPDATE">
        <condition display_value="Always">af4c22e7db4c3380c18c59b2ca961906</condition>
        <from display_value="Begin">6b4c22e7db4c3380c18c59b2ca961906</from>
        <sys_created_by>aalzyoud</sys_created_by>
        <sys_created_on>2019-03-14 00:18:51</sys_created_on>
        <sys_id>af4c22e7db4c3380c18c59b2ca961909</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>aalzyoud</sys_updated_by>
        <sys_updated_on>2019-03-14 00:18:51</sys_updated_on>
        <to display_value="Create Process Top Tasker">2f4c22e7db4c3380c18c59b2ca961904</to>
    </wf_transition>
    <wf_transition action="INSERT_OR_UPDATE">
        <condition display_value="Always">274c22e7db4c3380c18c59b2ca961905</condition>
        <from display_value="Create Process Top Tasker">2f4c22e7db4c3380c18c59b2ca961904</from>
        <sys_created_by>aalzyoud</sys_created_by>
        <sys_created_on>2019-03-14 00:18:51</sys_created_on>
        <sys_id>e74c22e7db4c3380c18c59b2ca961909</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>aalzyoud</sys_updated_by>
        <sys_updated_on>2019-03-14 00:18:51</sys_updated_on>
        <to display_value="Get Count of Top Tasker Definitions">6f4c22e7db4c3380c18c59b2ca961903</to>
    </wf_transition>
    <var_dictionary action="INSERT_OR_UPDATE">
        <active>true</active>
        <array>false</array>
        <array_denormalized>false</array_denormalized>
        <attributes/>
        <audit>false</audit>
        <calculation><![CDATA[(function calculatedFieldValue(current) {

	// Add your code here
	return '';  // return the calculated value

})(current);]]></calculation>
        <choice/>
        <choice_field/>
        <choice_table/>
        <column_label>routing_template_ref_sys_id</column_label>
        <comments/>
        <create_roles/>
        <default_value/>
        <defaultsort/>
        <delete_roles/>
        <dependent/>
        <dependent_on_field/>
        <display>false</display>
        <dynamic_creation>false</dynamic_creation>
        <dynamic_creation_script/>
        <dynamic_default_value/>
        <dynamic_ref_qual/>
        <element>u_routing_template_ref_sys_id</element>
        <element_reference>false</element_reference>
        <foreign_database/>
        <function_definition/>
        <function_field>false</function_field>
        <help/>
        <hint/>
        <internal_type display_value="String">string</internal_type>
        <label>routing_template_ref_sys_id</label>
        <mandatory>false</mandatory>
        <max_length>100</max_length>
        <model_id>9eefaf694f850300303dc3818110c7c5</model_id>
        <model_table>wf_workflow</model_table>
        <name>var__m_var_dictionary_9eefaf694f850300303dc3818110c7c5</name>
        <next_element/>
        <order>100</order>
        <primary>false</primary>
        <read_only>false</read_only>
        <read_roles/>
        <reference/>
        <reference_cascade_rule/>
        <reference_floats>false</reference_floats>
        <reference_key/>
        <reference_qual/>
        <reference_qual_condition/>
        <reference_type/>
        <sizeclass/>
        <spell_check>false</spell_check>
        <staged>false</staged>
        <sys_class_name>var_dictionary</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2017-11-27 21:05:28</sys_created_on>
        <sys_customer_update>false</sys_customer_update>
        <sys_id>e80b18404f3e0300303dc3818110c77e</sys_id>
        <sys_mod_count>4</sys_mod_count>
        <sys_name>routing_template_ref_sys_id</sys_name>
        <sys_package display_value="Tasker" source="x_153465_discovert">c6b1162d4fc10300303dc3818110c7b1</sys_package>
        <sys_policy>protected</sys_policy>
        <sys_replace_on_upgrade>false</sys_replace_on_upgrade>
        <sys_scope display_value="Tasker">c6b1162d4fc10300303dc3818110c7b1</sys_scope>
        <sys_update_name>var_dictionary_e80b18404f3e0300303dc3818110c77e</sys_update_name>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2018-03-02 04:13:55</sys_updated_on>
        <table_reference>false</table_reference>
        <text_index>false</text_index>
        <unique>false</unique>
        <use_dependent_field>false</use_dependent_field>
        <use_dynamic_default>false</use_dynamic_default>
        <use_reference_qualifier>simple</use_reference_qualifier>
        <virtual>false</virtual>
        <widget/>
        <write_roles/>
        <xml_view>false</xml_view>
    </var_dictionary>
    <sys_documentation element="u_routing_template_ref" language="en" table="var__m_var_dictionary_9eefaf694f850300303dc3818110c7c5">
        <sys_documentation action="INSERT_OR_UPDATE">
            <element>u_routing_template_ref</element>
            <help/>
            <hint/>
            <label>routing_template_ref</label>
            <language>en</language>
            <name>var__m_var_dictionary_9eefaf694f850300303dc3818110c7c5</name>
            <plural>routing_template_ref</plural>
            <sys_class_name>sys_documentation</sys_class_name>
            <sys_created_by>admin</sys_created_by>
            <sys_created_on>2017-11-27 21:05:28</sys_created_on>
            <sys_customer_update>false</sys_customer_update>
            <sys_id>223b98404f3e0300303dc3818110c77e</sys_id>
            <sys_mod_count>0</sys_mod_count>
            <sys_name>routing_template_ref</sys_name>
            <sys_package display_value="Tasker" source="x_153465_discovert">c6b1162d4fc10300303dc3818110c7b1</sys_package>
            <sys_policy/>
            <sys_replace_on_upgrade>false</sys_replace_on_upgrade>
            <sys_scope display_value="Tasker">c6b1162d4fc10300303dc3818110c7b1</sys_scope>
            <sys_update_name>sys_documentation_var__m_var_dictionary_9eefaf694f850300303dc3818110c7c5_u_routing_template_ref_en</sys_update_name>
            <sys_updated_by>admin</sys_updated_by>
            <sys_updated_on>2017-11-27 21:05:28</sys_updated_on>
            <url/>
            <url_target/>
        </sys_documentation>
    </sys_documentation>
    <sys_documentation element="u_routes_loaded_counter" language="en" table="var__m_var_dictionary_9eefaf694f850300303dc3818110c7c5">
        <sys_documentation action="INSERT_OR_UPDATE">
            <element>u_routes_loaded_counter</element>
            <help/>
            <hint/>
            <label>Routes Loaded Counter</label>
            <language>en</language>
            <name>var__m_var_dictionary_9eefaf694f850300303dc3818110c7c5</name>
            <plural>Routes Loaded Counter</plural>
            <sys_class_name>sys_documentation</sys_class_name>
            <sys_created_by>admin</sys_created_by>
            <sys_created_on>2017-09-07 04:43:34</sys_created_on>
            <sys_customer_update>false</sys_customer_update>
            <sys_id>95b1f3e94f850300303dc3818110c77a</sys_id>
            <sys_mod_count>0</sys_mod_count>
            <sys_name>Routes Loaded Counter</sys_name>
            <sys_package display_value="Tasker" source="x_153465_discovert">c6b1162d4fc10300303dc3818110c7b1</sys_package>
            <sys_policy/>
            <sys_replace_on_upgrade>false</sys_replace_on_upgrade>
            <sys_scope display_value="Tasker">c6b1162d4fc10300303dc3818110c7b1</sys_scope>
            <sys_update_name>sys_documentation_var__m_var_dictionary_9eefaf694f850300303dc3818110c7c5_u_routes_loaded_counter_en</sys_update_name>
            <sys_updated_by>admin</sys_updated_by>
            <sys_updated_on>2017-09-07 04:43:34</sys_updated_on>
            <url/>
            <url_target/>
        </sys_documentation>
    </sys_documentation>
    <sys_documentation element="u_route_template_definition" language="en" table="var__m_var_dictionary_9eefaf694f850300303dc3818110c7c5">
        <sys_documentation action="INSERT_OR_UPDATE">
            <element>u_route_template_definition</element>
            <help/>
            <hint/>
            <label>Route Template Definition</label>
            <language>en</language>
            <name>var__m_var_dictionary_9eefaf694f850300303dc3818110c7c5</name>
            <plural>Route Template Definition</plural>
            <sys_class_name>sys_documentation</sys_class_name>
            <sys_created_by>admin</sys_created_by>
            <sys_created_on>2017-09-07 04:59:38</sys_created_on>
            <sys_customer_update>false</sys_customer_update>
            <sys_id>b865ff2d4f850300303dc3818110c76b</sys_id>
            <sys_mod_count>0</sys_mod_count>
            <sys_name>Route Template Definition</sys_name>
            <sys_package display_value="Tasker" source="x_153465_discovert">c6b1162d4fc10300303dc3818110c7b1</sys_package>
            <sys_policy/>
            <sys_replace_on_upgrade>false</sys_replace_on_upgrade>
            <sys_scope display_value="Tasker">c6b1162d4fc10300303dc3818110c7b1</sys_scope>
            <sys_update_name>sys_documentation_var__m_var_dictionary_9eefaf694f850300303dc3818110c7c5_u_route_template_definition_en</sys_update_name>
            <sys_updated_by>admin</sys_updated_by>
            <sys_updated_on>2017-09-07 04:59:38</sys_updated_on>
            <url/>
            <url_target/>
        </sys_documentation>
    </sys_documentation>
    <sys_documentation element="u_routing_template_ref_sys_id" language="en" table="var__m_var_dictionary_9eefaf694f850300303dc3818110c7c5">
        <sys_documentation action="INSERT_OR_UPDATE">
            <element>u_routing_template_ref_sys_id</element>
            <help/>
            <hint/>
            <label>routing_template_ref_sys_id</label>
            <language>en</language>
            <name>var__m_var_dictionary_9eefaf694f850300303dc3818110c7c5</name>
            <plural>routing_template_ref_sys_id</plural>
            <sys_class_name>sys_documentation</sys_class_name>
            <sys_created_by>admin</sys_created_by>
            <sys_created_on>2017-11-27 21:39:31</sys_created_on>
            <sys_customer_update>false</sys_customer_update>
            <sys_id>d9036cc44f3e0300303dc3818110c799</sys_id>
            <sys_mod_count>0</sys_mod_count>
            <sys_name>routing_template_ref_sys_id</sys_name>
            <sys_package display_value="Tasker" source="x_153465_discovert">c6b1162d4fc10300303dc3818110c7b1</sys_package>
            <sys_policy/>
            <sys_replace_on_upgrade>false</sys_replace_on_upgrade>
            <sys_scope display_value="Tasker">c6b1162d4fc10300303dc3818110c7b1</sys_scope>
            <sys_update_name>sys_documentation_var__m_var_dictionary_9eefaf694f850300303dc3818110c7c5_u_routing_template_ref_sys_id_en</sys_update_name>
            <sys_updated_by>admin</sys_updated_by>
            <sys_updated_on>2017-11-27 21:39:31</sys_updated_on>
            <url/>
            <url_target/>
        </sys_documentation>
    </sys_documentation>
    <sys_documentation element="u_total_routes" language="en" table="var__m_var_dictionary_9eefaf694f850300303dc3818110c7c5">
        <sys_documentation action="INSERT_OR_UPDATE">
            <element>u_total_routes</element>
            <help/>
            <hint/>
            <label>Total Routes</label>
            <language>en</language>
            <name>var__m_var_dictionary_9eefaf694f850300303dc3818110c7c5</name>
            <plural>Total Routes</plural>
            <sys_class_name>sys_documentation</sys_class_name>
            <sys_created_by>admin</sys_created_by>
            <sys_created_on>2017-09-07 05:03:46</sys_created_on>
            <sys_customer_update>false</sys_customer_update>
            <sys_id>d956f76d4f850300303dc3818110c75e</sys_id>
            <sys_mod_count>0</sys_mod_count>
            <sys_name>Total Routes</sys_name>
            <sys_package display_value="Tasker" source="x_153465_discovert">c6b1162d4fc10300303dc3818110c7b1</sys_package>
            <sys_policy/>
            <sys_replace_on_upgrade>false</sys_replace_on_upgrade>
            <sys_scope display_value="Tasker">c6b1162d4fc10300303dc3818110c7b1</sys_scope>
            <sys_update_name>sys_documentation_var__m_var_dictionary_9eefaf694f850300303dc3818110c7c5_u_total_routes_en</sys_update_name>
            <sys_updated_by>admin</sys_updated_by>
            <sys_updated_on>2017-09-07 05:03:46</sys_updated_on>
            <url/>
            <url_target/>
        </sys_documentation>
    </sys_documentation>
    <sys_documentation element="u_route_definition" language="en" table="var__m_var_dictionary_9eefaf694f850300303dc3818110c7c5">
        <sys_documentation action="INSERT_OR_UPDATE">
            <element>u_route_definition</element>
            <help/>
            <hint/>
            <label>Route Definition</label>
            <language>en</language>
            <name>var__m_var_dictionary_9eefaf694f850300303dc3818110c7c5</name>
            <plural>Route Definition</plural>
            <sys_class_name>sys_documentation</sys_class_name>
            <sys_created_by>admin</sys_created_by>
            <sys_created_on>2017-09-07 04:38:23</sys_created_on>
            <sys_customer_update>false</sys_customer_update>
            <sys_id>d9803ba94f850300303dc3818110c798</sys_id>
            <sys_mod_count>0</sys_mod_count>
            <sys_name>Route Definition</sys_name>
            <sys_package display_value="Tasker" source="x_153465_discovert">c6b1162d4fc10300303dc3818110c7b1</sys_package>
            <sys_policy/>
            <sys_replace_on_upgrade>false</sys_replace_on_upgrade>
            <sys_scope display_value="Tasker">c6b1162d4fc10300303dc3818110c7b1</sys_scope>
            <sys_update_name>sys_documentation_var__m_var_dictionary_9eefaf694f850300303dc3818110c7c5_u_route_definition_en</sys_update_name>
            <sys_updated_by>admin</sys_updated_by>
            <sys_updated_on>2017-09-07 04:38:23</sys_updated_on>
            <url/>
            <url_target/>
        </sys_documentation>
    </sys_documentation>
    <sys_documentation element="u_tempsysid" language="en" table="var__m_var_dictionary_9eefaf694f850300303dc3818110c7c5">
        <sys_documentation action="INSERT_OR_UPDATE">
            <element>u_tempsysid</element>
            <help/>
            <hint/>
            <label>TempSysID</label>
            <language>en</language>
            <name>var__m_var_dictionary_9eefaf694f850300303dc3818110c7c5</name>
            <plural>TempSysID</plural>
            <sys_class_name>sys_documentation</sys_class_name>
            <sys_created_by>admin</sys_created_by>
            <sys_created_on>2017-09-08 14:03:50</sys_created_on>
            <sys_customer_update>false</sys_customer_update>
            <sys_id>de8bf6ce4f010300303dc3818110c720</sys_id>
            <sys_mod_count>0</sys_mod_count>
            <sys_name>TempSysID</sys_name>
            <sys_package display_value="Tasker" source="x_153465_discovert">c6b1162d4fc10300303dc3818110c7b1</sys_package>
            <sys_policy/>
            <sys_replace_on_upgrade>false</sys_replace_on_upgrade>
            <sys_scope display_value="Tasker">c6b1162d4fc10300303dc3818110c7b1</sys_scope>
            <sys_update_name>sys_documentation_var__m_var_dictionary_9eefaf694f850300303dc3818110c7c5_u_tempsysid_en</sys_update_name>
            <sys_updated_by>admin</sys_updated_by>
            <sys_updated_on>2017-09-08 14:03:50</sys_updated_on>
            <url/>
            <url_target/>
        </sys_documentation>
    </sys_documentation>
    <wf_estimated_runtime_config action="INSERT_OR_UPDATE">
        <estimated_run_time/>
        <no_of_data_points>1</no_of_data_points>
        <percentage_threshold_ert>20</percentage_threshold_ert>
        <sys_created_by>aalzyoud</sys_created_by>
        <sys_created_on>2019-03-14 00:18:51</sys_created_on>
        <sys_id>2f4c22e7db4c3380c18c59b2ca961901</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>aalzyoud</sys_updated_by>
        <sys_updated_on>2019-03-14 00:18:51</sys_updated_on>
        <workflow_version display_value="Discover Process Template">ab4c22e7db4c3380c18c59b2ca961901</workflow_version>
    </wf_estimated_runtime_config>
    <wf_workflow_version action="update_multiple" query="workflow=9eefaf694f850300303dc3818110c7c5^sys_id!=ab4c22e7db4c3380c18c59b2ca961901">
        <published>false</published>
    </wf_workflow_version>
</record_update>
